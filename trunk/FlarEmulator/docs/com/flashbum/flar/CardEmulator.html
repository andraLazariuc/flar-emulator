<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><!-- saved from url=(0014)about:internet --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="../../../style.css" type="text/css" media="screen"><link rel="stylesheet" href="../../../print.css" type="text/css" media="print"><link rel="stylesheet" href="../../../override.css" type="text/css"><meta name="keywords" content="CardEmulator,com.flashbum.flar.CardEmulator,_flarParam,_height,_width,addViewportToDisplay,cameraURL,code,codeWidth,detector,emulatorCamera,emulatorRenderer,emulatorScene,emulatorViewport,flarParam,height,markerHeight,markerURL,markerWidth,raster,src,testCard,testMarkerURL,viewport,width,calculateMouseMovement,calculateTransformMatrix,detectMarker,render,setup"><title>com.flashbum.flar.CardEmulator</title></head><body><script language="javascript" type="text/javascript" src="../../../asdoc.js"></script><script language="javascript" type="text/javascript" src="../../../help.js"></script><script language="javascript" type="text/javascript" src="../../../cookies.js"></script><script language="javascript" type="text/javascript"><!--
				asdocTitle = 'CardEmulator - FlarEmulator';
				var baseRef = '../../../';
				window.onload = configPage;
			--></script>
<script type="text/javascript">
			scrollToNameAnchor();
		</script><table class="titleTable" cellpadding="0" cellspacing="0" id="titleTable" style="display:none"><tr><td class="titleTableTitle" align="left">API Documentation</td><td class="titleTableTopNav" align="right"><a href="../../../package-summary.html" onclick="loadClassListFrame('../../../all-classes.html')">All Packages</a>&nbsp;|&nbsp;<a href="../../../class-summary.html" onclick="loadClassListFrame('../../../all-classes.html')">All Classes</a>&nbsp;|&nbsp;<a href="../../../all-index-A.html" onclick="loadClassListFrame('../../../index-list.html')">Index</a>&nbsp;|&nbsp;<a id="framesLink1" href="../../../index.html?com/flashbum/flar/CardEmulator.html&amp;com/flashbum/flar/class-list.html">Frames</a><a id="noFramesLink1" style="display:none" href="" onclick="parent.location=document.location"> No Frames </a></td><td class="titleTableLogo" align="right" rowspan="3"><img src="../../../images/logo.jpg" class="logoImage" alt=" Adobe Logo " title=" Adobe Logo "></td></tr><tr class="titleTableRow2"><td class="titleTableSubTitle" id="subTitle" align="left">CardEmulator</td><td class="titleTableSubNav" id="subNav" align="right"><a href="#propertySummary">Properties</a>&nbsp;| <a href="#methodSummary">Methods</a></td></tr><tr class="titleTableRow3"><td colspan="3">&nbsp;</td></tr></table><script language="javascript" type="text/javascript" xml:space="preserve">
				<!--
				
					if (!isEclipse() || window.name != ECLIPSE_FRAME_NAME) {titleBar_setSubTitle("CardEmulator"); titleBar_setSubNav(false,true,false,false,false,false,false,false,true,false,false	,false,false,false,false,false);}	
				-->
			</script><div xmlns:fn="http://www.w3.org/2005/xpath-functions" class="MainContent"><table class="classHeaderTable" cellpadding="0" cellspacing="0"><tr><td class="classHeaderTableLabel">Package</td><td><a href="package-detail.html" onclick="javascript:loadClassListFrame('class-list.html')">com.flashbum.flar</a></td></tr><tr><td class="classHeaderTableLabel">Class</td><td class="classSignature">public  class  CardEmulator</td></tr><tr><td class="classHeaderTableLabel">Inheritance</td><td class="inheritanceList">CardEmulator  <img src="../../../images/inherit-arrow.gif" title="Inheritance" alt="Inheritance" class="inheritArrow"> flash.display.Sprite</td></tr></table><p></p><p></p><p></p>
 	 The CardEmulator represent a simple system for testing an AR Marker with
 	 needing to use a webcam as a source. This class creates an instance of a
 	 Papervision 3D renderer, viewport and scene with a simple 3d plane skinned
 	 with a texture of your marker. When render is called the mouse is tracked
 	 and the plane is adjusted to test your pattern at different angles.
 	 
 	 This since this class requires a reference to stage for the mouse
 	 calculations you must attach it to the stage or another display object.
 	 In cases when you don't want to see the viewport you can optionally toggle
 	 addViewportToDisplay in the constructor.
 	  
 	 <p></p><br/><hr></div><a name="propertySummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Properties</div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableProperty"><tr><th>&nbsp;</th><th colspan="2">Property</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#viewport" class="signatureLink">viewport</a> : BitmapViewport3D<div class="summaryTableDescription">[read-only] 
           Returns an instance of the viewport as a BitmapViewport3d object.</div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr></table></div><a name="protectedPropertySummary"></a><div class="summarySection"><div class="summaryTableTitle">Protected Properties</div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableProtectedProperty"><tr><th>&nbsp;</th><th colspan="2">Property</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#addViewportToDisplay" class="signatureLink">addViewportToDisplay</a> : Boolean = false<div class="summaryTableDescription"></div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#emulatorCamera" class="signatureLink">emulatorCamera</a> : Camera3D<div class="summaryTableDescription"></div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#emulatorRenderer" class="signatureLink">emulatorRenderer</a> : BasicRenderEngine<div class="summaryTableDescription"></div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#emulatorScene" class="signatureLink">emulatorScene</a> : Scene3D<div class="summaryTableDescription"></div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#emulatorViewport" class="signatureLink">emulatorViewport</a> : BitmapViewport3D<div class="summaryTableDescription"></div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#_height" class="signatureLink">_height</a> : Number = 0<div class="summaryTableDescription"></div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#testCard" class="signatureLink">testCard</a> : Plane<div class="summaryTableDescription"></div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#testMarkerURL" class="signatureLink">testMarkerURL</a> : String<div class="summaryTableDescription"></div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#_width" class="signatureLink">_width</a> : Number = 0<div class="summaryTableDescription"></div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr></table></div><a name="methodSummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Methods </div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableMethod"><tr><th>&nbsp;</th><th colspan="2">Method</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#CardEmulator()" class="signatureLink">CardEmulator</a>(testMarkerURL:String, w:Number = 320, h:Number = 240, addViewportToDisplay:Boolean = false)</div><div class="summaryTableDescription">
  		  Constructs the emulator environment.</div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#render()" class="signatureLink">render</a>():void</div><div class="summaryTableDescription">
  		 
  		 When a render is called we calculate the mouseMovement then render
  		 out the scene.</div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr></table></div><a name="protectedMethodSummary"></a><div class="summarySection"><div class="summaryTableTitle">Protected Methods </div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableProtectedMethod"><tr><th>&nbsp;</th><th colspan="2">Method</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#calculateMouseMovement()" class="signatureLink">calculateMouseMovement</a>():void</div><div class="summaryTableDescription">
  		 
  		 Here we take the mouse's movement and rotate the camera 
  		 accordingly.</div></td><td class="summaryTableOwnerCol">CardEmulator</td></tr></table></div><script language="javascript" type="text/javascript"><!--
										showHideInherited();
										--></script><div class="MainContent"><div class="detailSectionHeader">Property Detail</div><a name="propertyDetail"></a><a name="_height"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">_height</td><td class="detailHeaderType">property</td></tr></table><div class="detailBody"><code>protected var _height:Number = 0</code><p></p></div><a name="propertyDetail"></a><a name="_width"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">_width</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>protected var _width:Number = 0</code><p></p></div><a name="propertyDetail"></a><a name="addViewportToDisplay"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">addViewportToDisplay</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>protected var addViewportToDisplay:Boolean = false</code><p></p></div><a name="propertyDetail"></a><a name="emulatorCamera"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">emulatorCamera</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>protected var emulatorCamera:Camera3D</code><p></p></div><a name="propertyDetail"></a><a name="emulatorRenderer"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">emulatorRenderer</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>protected var emulatorRenderer:BasicRenderEngine</code><p></p></div><a name="propertyDetail"></a><a name="emulatorScene"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">emulatorScene</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>protected var emulatorScene:Scene3D</code><p></p></div><a name="propertyDetail"></a><a name="emulatorViewport"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">emulatorViewport</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>protected var emulatorViewport:BitmapViewport3D</code><p></p></div><a name="propertyDetail"></a><a name="testCard"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">testCard</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>protected var testCard:Plane</code><p></p></div><a name="propertyDetail"></a><a name="testMarkerURL"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">testMarkerURL</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>protected var testMarkerURL:String</code><p></p></div><a name="propertyDetail"></a><a name="viewport"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">viewport</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>viewport:BitmapViewport3D</code>&nbsp;&nbsp;[read-only] <p></p><p></p><p>
           Returns an instance of the viewport as a BitmapViewport3d object.
           
           </p><br/><span class="label"> Implementation </span><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function get viewport():BitmapViewport3D</code><br/></div><a name="constructorDetail"></a><div class="detailSectionHeader">Constructor Detail</div><a name="CardEmulator()"></a><a name="CardEmulator(String,Number,Number,Boolean)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">CardEmulator</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">Constructor</td></tr></table><div class="detailBody"><code>public function CardEmulator(testMarkerURL:String, w:Number = 320, h:Number = 240, addViewportToDisplay:Boolean = false)</code><p></p><p>
  		  Constructs the emulator environment. We need a url to the test
  		 marker, a width and a height.
  		 
  		 </p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">testMarkerURL</span>:String</code> &mdash; loads in a sample test marker image.
  		 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">w</span>:Number</code> (default = <code>320</code>)<code></code> &mdash; width of the emulators display - default 320.
  		 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">h</span>:Number</code> (default = <code>240</code>)<code></code> &mdash; height of the emulators display - default 240.
  		 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">addViewportToDisplay</span>:Boolean</code> (default = <code>false</code>)<code></code> &mdash; tells the emulator if it should attach 
  		 the viewport to the display or not. In most cases you would not want
  		 to set this to true unless you are testing that the Emulator is 
  		 actually displaying and working.
  		 
  		 </td></tr></table></div><a name="methodDetail"></a><div class="detailSectionHeader">Method Detail</div><a name="calculateMouseMovement()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">calculateMouseMovement</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td></tr></table><div class="detailBody"><code> protected function calculateMouseMovement():void</code><p></p><p></p><p>
  		 
  		 Here we take the mouse's movement and rotate the camera 
  		 accordingly. This assumes that the CardEmulator instance has a 
  		 reference to the stage.
  		 
  		 </p></div><a name="render()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">render</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function render():void</code><p></p><p></p><p>
  		 
  		 When a render is called we calculate the mouseMovement then render
  		 out the scene.
  		 
  		 </p></div><br/><br/><hr><br/><p></p><center class="copyright"><footer></footer><br/>Fri Oct 2 2009, 02:07 PM -04:00  </center></div></body></html><!--<br/>Fri Oct 2 2009, 02:07 PM -04:00  -->